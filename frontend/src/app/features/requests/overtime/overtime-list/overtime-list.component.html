<div class="overtime-list-container">
    <div class="page-header">
        <div class="header-content">
            <h1>Overtime Requests</h1>
            <p class="subtitle">View and manage overtime requests</p>
        </div>
        <button class="btn-primary" (click)="createNewRequest()">
            <span class="icon">‚ûï</span>
            New Overtime Request
        </button>
    </div>

    <app-data-table [columns]="columns" [data]="overtimeRequests" [pagination]="pagination" [loading]="loading"
        [searchable]="true" (pageChange)="onPageChange($event)" (pageSizeChange)="onPageSizeChange($event)"
        (searchChange)="onSearch($event)" (rowClick)="onRowClick($event)" [rowStyle]="getRowStyle">

        <ng-template #cellTemplate let-row let-column="column">
            <ng-container [ngSwitch]="column.field">
                <span *ngSwitchCase="'status'" [class]="getStatusClass(row.status)" class="status-badge">
                    {{ getStatusLabel(row.status) }}
                </span>
                <span *ngSwitchCase="'startDateTime'">
                    {{ formatDateTime(row.startDateTime) }}
                </span>
                <span *ngSwitchCase="'endDateTime'">
                    {{ formatDateTime(row.endDateTime) }}
                </span>
                <span *ngSwitchCase="'submittedAt'">
                    {{ formatDate(row.submittedAt) }}
                </span>
                <span *ngSwitchCase="'hoursWorked'">
                    {{ row.hoursWorked }} hrs
                </span>
                <span *ngSwitchDefault>
                    {{ row[column.field] }}
                </span>
            </ng-container>
        </ng-template>

        <ng-template #actionsTemplate let-request>
            <div class="action-buttons">
                <button class="btn-icon btn-delete" (click)="deleteRequest(request, $event)" title="Delete">
                    üóëÔ∏è
                </button>
            </div>
        </ng-template>
    </app-data-table>
</div>

<!-- Overtime Request Modal -->
<app-overtime-modal [isOpen]="isModalOpen" (saved)="onModalSaved()" (cancelled)="onModalCancelled()">
</app-overtime-modal>

<!-- Delete Confirmation Dialog -->
<app-confirm-dialog [isOpen]="isDeleteDialogOpen" title="Delete Overtime Request"
    message="Are you sure you want to delete this overtime request? This action cannot be undone." confirmText="Delete"
    (confirmed)="onDeleteConfirmed()" (cancelled)="onDeleteCancelled()">
</app-confirm-dialog>