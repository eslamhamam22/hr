<div class="filters-container">
  <h3>Filters</h3>

  <div class="filter-grid">
    <!-- Date Range (Visible to all who can access reports) -->
    <div class="filter-group">
      <label for="startDate">Start Date</label>
      <input
        type="date"
        id="startDate"
        [(ngModel)]="startDate"
        (change)="applyFilters()"
      />
    </div>

    <div class="filter-group">
      <label for="endDate">End Date</label>
      <input
        type="date"
        id="endDate"
        [(ngModel)]="endDate"
        (change)="applyFilters()"
      />
    </div>

    <!-- Department Filter (Admin/HR Only) -->
    <div class="filter-group" *ngIf="canFilterDepartment()">
      <label for="department">Department</label>
      <select id="department" [(ngModel)]="departmentId" (change)="onDepartmentChange()">
        <option value="">All Departments</option>
        <option *ngFor="let dept of departments()" [value]="dept.id">
          {{ dept.name }}
        </option>
      </select>
    </div>

    <!-- Employee Filter (Admin/HR/Manager) -->
    <div class="filter-group" *ngIf="canFilterEmployee()">
      <label for="employee">Employee</label>
      <select id="employee" [(ngModel)]="employeeId" (change)="applyFilters()">
        <option value="">All Employees</option>
        <option *ngFor="let emp of employees()" [value]="emp.id">
          {{ emp.fullName }}
        </option>
      </select>
    </div>
  </div>

  <div class="filter-actions">
    <button class="btn btn-primary" (click)="applyFilters()">
      Apply Filters
    </button>
    <button class="btn btn-secondary" (click)="clearFilters()">
      Reset
    </button>
  </div>
</div>